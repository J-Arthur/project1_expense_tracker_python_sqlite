CREATE TABLE IF NOT EXISTS users (id INT PRIMARY KEY, name TEXT NOT NULL, dob DATE, yearly_income REAL, hourly_rate REAL, weekly_hours INT, net_balance REAL, gross_balance REAL, date_created DATE);
CREATE TABLE IF NOT EXISTS m_transactions (id INT PRIMARY KEY, date_uploaded DATE, date_transaction DATE, description TEXT, amount REAL, processed_description TEXT, card_num INT, user_id INT, FOREIGN KEY (user_id) REFERENCES users(id) FOREIGN KEY (card_num) REFERENCES cards(id));
CREATE TABLE IF NOT EXISTS cards (id INT PRIMARY KEY, card_num INT, user_id INT, FOREIGN KEY (user_id) REFERENCES users(id));
CREATE TABLE IF NOT EXISTS budget_limits (id INT PRIMARY KEY, user_id INT, sector INT, category INT, subcategory INT, niche INT, limit REAL, FOREIGN KEY (user_id) REFERENCES users(id) FOREIGN KEY (sector) REFERENCES sectors(id) FOREIGN KEY (category) REFERENCES categories(id) FOREIGN KEY (subcategory) REFERENCES subcategories(id) FOREIGN KEY (niche) REFERENCES niches(id));
CREATE TABLE IF NOT EXISTS budget_history (id INT PRIMARY KEY, user_id INT, date DATE, number_transactions INTEGER, total_in REAL, total_out REAL, total_unique_descriptions INTEGER, FOREIGN KEY (user_id) REFERENCES users(id));
CREATE TABLE IF NOT EXISTS budget_running_summary (id INT PRIMARY KEY, user_id INT, date DATE, number_transactions INTEGER, total_in REAL, total_out REAL, total_unique_descriptions INTEGER, FOREIGN KEY (user_id) REFERENCES users(id));
